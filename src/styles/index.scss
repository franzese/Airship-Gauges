@import url('https://fonts.googleapis.com/css?family=Roboto+Condensed');
@import './animations.scss';
$color-light: #fff;
$color-dark: #000;
$base-font-size: 10px;

body,
html {
  font-size: $base-font-size;
  color: $color-dark;
  font-family: 'Roboto Condensed', sans-serif;

  section {
    display: flex;
    justify-content: flex-start;

    .gauge-wrap {
      padding: 1rem 2rem;
      cursor: default;
      display: flex;
      justify-content: flex-start;

      .gauge-copy {
        display: flex;
        flex-direction: column;
        justify-content: center;

        h2,
        h3,
        h4,
        h5,
        h6 {
          margin: 0;
          font-size: 4rem;
        }

        p {
          margin: 0;
          font-size: 2.2rem;
        }
      }

      .gauge-bezel {
        display: inline-block;
        position: relative;
        float: left;
        margin-right: 2rem;
        height: 11rem;
        width: 11rem;
        min-width: 11rem;
        z-index: 1;
      }

      .gauge {
        overflow: hidden;
        border-radius: 1rem;
        width: 100%;
        height: 100%;
        position: relative;
        display: inline-block;
        background: {
          repeat: no-repeat;
          size: 100%;
        }

        .bg {
          position: absolute;
          height: 100%;
          width: 100%;
          background: $color-light;
          z-index: -10;
          border-radius: 100%;
        }

        .detail {
          width: 100%;
          height: 100%;
          display: inline-block;
          background: {
            repeat: no-repeat;
            size: 100%;
          }
          position: absolute;
          animation-timing-function: ease-in-out;
          left: 0;
          top: 0;
        }
        // STRATEGIC SEPARATION GAUGE
        &.compass {
          background-image: url("../images/gauge-compass-bg.svg");

          .detail {
            background-image: url("../images/gauge-compass-detail.svg");
            transform: rotate(-20deg);
            z-index: 1;
          }
        }
        // QUALITY MATERIALS GAUGE
        &.quality {
          background-image: url("../images/gauge-quality-bg.svg");

          .detail {
            background-image: url("../images/gauge-quality-detail.svg");
            height: 200%;
            width: 200%;
            top: -5.5rem;
            left: 1rem;
            transform: rotate(0deg);
            transition: all 120ms ease-in;
          }
        }
        // PERFECT FIT GAUGE
        &.reticle {
          background-image: url("../images/gauge-reticle-bg.svg");

          .detail {
            opacity: 0.4;
            z-index: -1;
            background-image: url("../images/gauge-reticle-detail.svg");
            transition: opacity 120ms ease-in;
          }
        }
        // MOISTURE MANAGEMENT GAUGE
        &.barometer {
          .detail {
            &.raindrops {
              z-index: 5;
              font-size: 1px;
              transform: rotateY(0);
              transition: filter 600ms;
              filter: blur(1px) brightness(1.3);

              .border {
                box-shadow: 0 0 0 2px $color-dark;
                position: absolute;
                border-radius: 100%;
                opacity: 0;
              }

              .raindrop {
                margin-left: -2px;
                margin-top: -1px;
                background: {
                  color: $color-dark;
                  image: url("../images/gauge-barometer-raindrop.png");
                  position: center center;
                  size: 1000%;
                }
                transform: rotate(180deg) rotateY(0);
                transition: background-size 1s;
                position: absolute;
                border-radius: 100%;
                opacity: 0;
              }

              #border-1,
              #raindrop-1 {
                left: 21em;
                top: 64em;
                height: 6.42em;
                animation-delay: 1.7s;
              }

              #border-1 {
                width: 4.4em;
                box-shadow: 0 0 0 0.8px $color-dark;
              }

              #raindrop-1 {
                width: 6em;
                background-position: 50.8% 11.6%;
              }

              #border-2,
              #raindrop-2 {
                left: 42em;
                top: 79em;
                height: 13.92em;
                animation-delay: 0.5s;
              }

              #border-2 {
                width: 6.8em;
                box-shadow: -1px 0 0 2.6px $color-dark;
              }

              #raindrop-2 {
                width: 12em;
                background-position: 39.7% 18.3%;
              }

              #border-3,
              #raindrop-3 {
                left: 70em;
                top: 74em;
                height: 10.6em;
                animation-delay: 0.66s;
              }

              #border-3 {
                width: 6em;
                box-shadow: 0 0 0 2px $color-dark;
              }

              #raindrop-3 {
                width: 10em;
                background-position: 49.5% 13.6%;
              }

              #border-4,
              #raindrop-4 {
                left: 63em;
                top: 49em;
                height: 11.77em;
                animation-delay: 1.6s;
              }

              #border-4 {
                width: 6.4em;
                box-shadow: 0 0 0 2.3px $color-dark;
              }

              #raindrop-4 {
                width: 11em;
                background-position: 43.0% 22.1%;
              }

              #border-5,
              #raindrop-5 {
                left: 22em;
                top: 35em;
                height: 7.63em;
                animation-delay: 1.3s;
              }

              #border-5 {
                width: 4.8em;
                box-shadow: 0 0 0 1.1px $color-dark;
              }

              #raindrop-5 {
                width: 7em;
                background-position: 52.3% 8.2%;
              }

              #border-6,
              #raindrop-6 {
                left: 83em;
                top: 54em;
                height: 10.35em;
                animation-delay: 2.2s;
              }

              #border-6 {
                width: 5.6em;
                box-shadow: 0 0 0 1.7px $color-dark;
              }

              #raindrop-6 {
                width: 9em;
                background-position: 39.4% 10.1%;
              }

              #border-7,
              #raindrop-7 {
                left: 60em;
                top: 23em;
                height: 10em;
                animation-delay: 0.75s;
              }

              #border-7 {
                width: 5.6em;
                box-shadow: 0 0 0 1.7px $color-dark;
              }

              #raindrop-7 {
                width: 9em;
                background-position: 45.7% 10.8%;
              }

              #border-8,
              #raindrop-8 {
                left: 37em;
                top: 36em;
                height: 10.6em;
                animation-delay: 1s;
              }

              #border-8 {
                width: 6em;
                box-shadow: 0 0 0 2px $color-dark;
              }

              #raindrop-8 {
                width: 10em;
                background-position: 49.5% 13.6%;
              }
            }

            &.fg {
              background-image: url("../images/gauge-cover.svg");
              z-index: 4;
            }

            &.fog {
              opacity: 0;
              border-radius: 1em;
              background-color: $color-light;
              overflow: hidden;
              position: absolute;
              top: 0;
              left: 0;
              height: 100%;
              width: 100%;
              z-index: 1;
            }

            &.fixed-needle {
              background-image: url("../images/gauge-barometer-fixed-needle.svg");
              transform: rotate(40deg);
              z-index: 0;
            }

            &.moving-needle {
              background-image: url("../images/gauge-barometer-moving-needle.svg");
              transform: rotate(10deg);
              transition: all 2.5s ease-in-out;
              z-index: 0;
            }

            &.bg {
              background: {
                image: url("../images/gauge-barometer-detail.svg");
                size: 94%;
                position: center;
              }
              z-index: -1;
            }
          }
        }
      }

      &.on,
      &:hover {
        .gauge {
          &.compass {
            .detail {
              animation: {
                name: gauge-compass-animation;
                duration: 6s;
                iteration-count: infinite;
              }
            }
          }

          &.quality {
            .detail {
              animation: {
                name: gauge-quality-animation;
                duration: 120ms;
                iteration-count: infinite;
                delay: 120ms;
              }
              transform: rotate(14deg);
            }
          }

          &.reticle {
            .detail {
              animation: {
                name: gauge-reticle-animation;
                duration: 5s;
                iteration-count: infinite;
                delay: 120ms;
              }
            }
          }

          &.barometer {
            .border,
            .raindrop {
              animation: raindrop-fall 100ms cubic-bezier(0.175, 0.885, 0.32, 1.275);
              animation-fill-mode: forwards;
            }

            .detail {
              &.fog {
                transition: opacity 3s ease-out;
                opacity: 0.85;
              }

              &.moving-needle {
                transform: rotate(-80deg);
              }
            }
          }
        }
      }
    }
  }
}
