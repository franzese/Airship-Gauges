@import url('https://fonts.googleapis.com/css?family=Roboto+Condensed');
@import './animations.scss';
@import './mixins.scss';
$color-light: #fff;
$color-dark: #000;
$base-font-size: 10px;

body,
html {
  font-size: $base-font-size;
  color: $color-dark;
  font-family: 'Roboto Condensed', sans-serif;
}

section {
  display: flex;
  justify-content: flex-start;

  .gauge-wrap {
    padding: 1rem 2rem;
    cursor: default;
    display: flex;
    justify-content: flex-start;

    .gauge-copy {
      display: flex;
      flex-direction: column;
      justify-content: center;

      h2,
      h3,
      h4,
      h5,
      h6 {
        margin: 0;
        font-size: 4rem;
      }

      p {
        margin: 0;
        font-size: 2.2rem;
      }
    }

    .gauge-bezel {
      display: inline-block;
      position: relative;
      float: left;
      margin-right: 2rem;
      height: 11rem;
      width: 11rem;
      min-width: 11rem;
      z-index: 1;
    }

    .gauge {
      overflow: hidden;
      border-radius: 1rem;
      width: 100%;
      height: 100%;
      position: relative;
      display: inline-block;
      background: {
        repeat: no-repeat;
        size: 100%;
      }

      .bg {
        position: absolute;
        height: 100%;
        width: 100%;
        background: $color-light;
        z-index: -10;
        border-radius: 100%;
      }

      .detail {
        width: 100%;
        height: 100%;
        display: inline-block;
        background: {
          repeat: no-repeat;
          size: 100%;
        }
        position: absolute;
        animation-timing-function: ease-in-out;
        left: 0;
        top: 0;
      }
      // STRATEGIC SEPARATION GAUGE
      &.compass {
        background-image: url("../images/gauge-compass-bg.svg");

        .detail {
          background-image: url("../images/gauge-compass-detail.svg");
          transform: rotate(-20deg);
          z-index: 1;
        }
      }
      // QUALITY MATERIALS GAUGE
      &.quality {
        background-image: url("../images/gauge-quality-bg.svg");

        .detail {
          background-image: url("../images/gauge-quality-detail.svg");
          height: 200%;
          width: 200%;
          top: -5.5rem;
          left: 1rem;
          transform: rotate(0deg);
          transition: all 120ms ease-in;
        }
      }
      // PERFECT FIT GAUGE
      &.reticle {
        background-image: url("../images/gauge-reticle-bg.svg");

        .detail {
          opacity: 0.4;
          z-index: -1;
          background-image: url("../images/gauge-reticle-detail.svg");
          transition: opacity 120ms ease-in;
        }
      }
      // MOISTURE MANAGEMENT GAUGE
      &.barometer {
        .detail {
          &.fg {
            background-image: url("../images/gauge-cover.svg");
            z-index: 5;
          }

          &.raindrops {
            z-index: 4;
            transform: rotateY(0);
            transition: filter 600ms;
            filter: blur(1px) brightness(1.3);

            .border {
              box-shadow: 0 0 0 2px $color-dark;
              position: absolute;
              border-radius: 100%;
              opacity: 0;
            }

            .raindrop {
              margin-left: -2px;
              margin-top: -1px;
              background: {
                color: $color-dark;
                image: url("../images/gauge-barometer-raindrop.png");
                position: center center;
                size: 1000%;
              }
              transform: rotate(180deg) rotateY(0);
              transition: background-size 1s;
              position: absolute;
              border-radius: 100%;
              opacity: 0;
            }
            // @mixin raindrop($i, $height, $top, $left, $bgx, $bgy, $adelay, $shadowblur)
            @include raindrop('1', 1.39rem, 7.9rem, 4.2rem, 39.7%, 18.3%, 0.50s, 2.6px);
            @include raindrop('2', 1.06rem, 7.4rem, 7.0rem, 49.5%, 13.6%, 0.66s, 2.0px);
            @include raindrop('3', 1.00rem, 2.3rem, 6.0rem, 45.7%, 10.8%, 0.75s, 1.7px);
            @include raindrop('4', 1.06rem, 3.6rem, 3.7rem, 49.5%, 13.6%, 1.00s, 2.0px);
            @include raindrop('5', 0.76rem, 3.5rem, 2.2rem, 52.3%, 8.2%, 1.30s, 1.1px);
            @include raindrop('6', 1.17rem, 4.9rem, 6.3rem, 43.0%, 22.1%, 1.60s, 2.3px);
            @include raindrop('7', 0.64rem, 6.4rem, 2.1rem, 50.8%, 11.6%, 1.70s, 0.8px);
            @include raindrop('8', 1.03rem, 5.4rem, 8.3rem, 39.4%, 10.1%, 2.20s, 1.7px);
          }

          &.fog {
            display:none;
            opacity: 0;
            border-radius: 1em;
            background-color: $color-light;
            overflow: hidden;
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            width: 100%;
            z-index: 1;
          }

          &.fixed-needle {
            background-image: url("../images/gauge-barometer-fixed-needle.svg");
            transform: rotate(40deg);
            z-index: 0;
          }

          &.moving-needle {
            background-image: url("../images/gauge-barometer-moving-needle.svg");
            transform: rotate(10deg);
            transition: all 1600ms ease-in-out;
            z-index: 0;
            animation: {
              name: gauge-barometer-needle-animation;
              duration: 120ms;
              iteration-count: infinite;
              delay: 1600ms;
            }
          }

          &.bg {
            background: {
              image: url("../images/gauge-barometer-detail.svg");
              size: 94%;
              position: center;
            }
            z-index: -1;
          }
        }
      }
    }

    &.on,
    &:hover {
      .gauge {
        &.compass {
          .detail {
            animation: {
              name: gauge-compass-animation;
              duration: 6s;
              iteration-count: infinite;
            }
          }
        }

        &.quality {
          .detail {
            animation: {
              name: gauge-quality-animation;
              duration: 120ms;
              iteration-count: infinite;
              delay: 500ms;
            }
            transform: rotate(14deg);
            transition: all 500ms ease-in;
          }
        }

        &.reticle {
          .detail {
            animation: {
              name: gauge-reticle-animation;
              duration: 5s;
              iteration-count: infinite;
              delay: 120ms;
            }
          }
        }

        &.barometer {
          .border,
          .raindrop {
            animation: {
              name: gauge-barometer-raindrop-animation;
              duration: 100ms;
              timing-function: cubic-bezier(0.175, 0.885, 0.32, 1.275);
              fill-mode: forwards;
            }
          }

          .detail {
            &.fog {
              animation: {
                name: gauge-barometer-fog-animation;
                duration: 10s;
                timing-function: ease-out;
                iteration-count: infinite;
              }
            }

            &.moving-needle {
              transform: rotate(-80deg);
            }
          }
        }
      }
    }
  }
}
